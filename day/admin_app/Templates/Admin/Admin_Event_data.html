
{% extends "base/base.html" %}
{% load static %}
{% block title %} Add - Event - Data {% endblock title %}
{% load static %}

{% block link %}   <link href="{% static 'css/Admin_Event_data.css' %}" rel="stylesheet">
<link href="{% static 'css/inputfiled.css' %}" rel="stylesheet">
<style>
 
</style>
 {% endblock link %}


</head>




{% block bodyblock %}
  <main id="main" class="main">
<br>
    <div class="pagetitle">
      <h1> Add Yong India Event</h1>
    </div>
      {% comment %} <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="{% url 'Admin_Dashboard' %}">Home</a></li>
          <li class="breadcrumb-item"><a href="{% url 'Admin_Dashboard' %}">Admin</a></li>
          <li class="breadcrumb-item active" > Add Yi Event</li></a>
        </ol>
      </nav> {% endcomment %}
 

    <div class="container-fluid">
      <!-- Event Add  Form -->
      <div class="card custom-form form-datas  w-100 ">
              <div class="position-relative">
                <img src="{% static 'Image/YI.jpg' %}" alt="Cover Photo" class="w-100" style="max-height: 180px; object-fit: cover;">
              <!-- Profile Image Overlapping -->
              <div class="position-absolute" style="bottom: -50px; left: 50px;">
                {% comment %} <div class="position-relative">
                  <img src="{% if user.photo %}{{ user.photo.url }}{% else %}{% static 'Image/img.png' %}{% endif %}" 
                       height="130px" width="130px" alt="Profile" 
                       class="rounded-circle border border-4 border-white shadow">
                </div> {% endcomment %}
              </div>
            </div>
        <br>
        <div class="card-body  p-4">
          <form method="POST" action="{% url 'admin_event_data' %}" enctype="multipart/form-data" class="was-validated w-100">
            {% csrf_token %}
            <div class="row">
              
              <!-- Your Name field -->
              <div class="col-12 col-sm-6 col-md-6 mb-md-0">
                <div class="form-group">
                  <label for="your_name" class="form-label">Your Name</label><span style="color:red;"> *</span>
                  <input type="text" id="your_name" class="form-control" name="your_name" value="{{ user.first_name }} {{ user.last_name }}" required placeholder="Enter your full name" aria-label="Your Name" style="background-color:rgb(235, 236, 247);">
                  <div class="invalid-feedback">Please provide your name.</div>
                </div>
              </div>
          
              <!-- Event Date field -->
              <div class="col-12 col-sm-6 col-md-6 mb-md-0">
                <div class="form-group">
                  <label for="event_date" class="form-label">Event Date</label><span style="color:red;"> *</span>
                  <input type="date" id="event_date" class="form-control" name="event_date" required aria-label="Event Date">
                  <div class="invalid-feedback">Please select an event date.</div>
                </div>
              </div>
          
              <!-- Event Name field -->
              <div class="col-12 col-sm-6 col-md-6">
                <div class="form-group">
                  <label for="event_name" class="form-label">Event Name</label><span style="color:red;"> *</span>
                  <input type="text" id="event_name" class="form-control" name="event_name" placeholder="Event Name" required aria-label="Event Name">
                  <div class="invalid-feedback">Please provide an event name.</div>
                </div>
              </div>
          
              <!-- Event Venue field -->
              <div class="col-12 col-sm-6 col-md-6">
                <div class="form-group">
                  <label for="event_venue" class="form-label">Event Venue</label><span style="color:red;"> *</span>
                  <input type="text" id="event_venue" class="form-control" name="event_venue" placeholder="Event Venue" required>
                  <div class="invalid-feedback">Please provide an event venue.</div>
                </div>
              </div>
          
              <!-- YI Role field -->
              <div class="col-12 col-sm-6 col-md-6">
                <div class="form-group">
                  <label for="role_yi" class="form-label">YI Role</label><span style="color:red;"> *</span>
                  <input class="form-control" id="role_yi" name="role_yi" value="{{user.yi_role}}" style="background-color:rgb(235, 236, 247);" required>
                  <div class="invalid-feedback">Please provide your YI role.</div>
                </div>
              </div>
          
              <!-- Members name(s) field -->
              <div class="col-12 col-sm-6 col-md-6">
                <div class="form-group">
                  <b><label for="tagInput">Members name(s)</label></b>
                  <div class="tag-container form-group" id="tagContainer">
                    <input type="text" id="tagInput" class="form-control" placeholder="Type EC member's name">
                    <input type="hidden" id="hiddenInput" name="#">
                  </div>
                </div>
              </div>
          
              <!-- Project Verticals field -->
              <div class="col-12 col-sm-6 col-md-6">
                <div class="form-group">
                  <label for="project_verticals" class="form-label">Project Verticals</label><span style="color:red;"> *</span>
                  <select class="form-control" id="project_verticals" name="project_verticals" required>
                    <option value="" disabled selected>Choose Project/Initiative</option>
                    <option value="Masoom">Masoom</option>
                    <option value="Road Safety">Road Safety</option>
                    <option value="Health">Health</option>
                    <option value="Sport">Sports</option>
                    <option value="Accessibility">Accessibility</option>
                    <option value="Learning(YI Talks)">Learning(YI Talks)</option>
                    <option value="Climate action">Climate action</option>
                    <option value="Innovation">Innovation</option>
                    <option value="Entrepreneurship">Entrepreneurship</option>
                    <option value="Branding & PR">Branding & PR</option>
                    <option value="Special Interest Group (S.I.G)">Special Interest Group (S.I.G)</option>
                    <option value="Women Engagement (YIWE)">Women Engagement (YIWE)</option>
                    <option value="Culture Connect">Culture Connect</option>
                    <option value="Yi Angel">Yi Angel</option>
                    <option value="Membership Engagement">Membership Engagement</option>
                    <option value="">None</option>
                  </select>
                  <div class="invalid-feedback">Please select a project vertical.</div>
                </div>
              </div>
          
              <!-- Project Stakeholder field -->
              <div class="col-12 col-sm-6 col-md-6">
                <div class="form-group">
                  <label for="project_stakeholder" class="form-label">Project Stakeholder</label><span style="color:red;"> *</span>
                  <select class="form-control" id="project_stakeholder" name="project_stakeholder" required aria-label="Project Stakeholder">
                    <option value="" disabled selected>Choose Project Stakeholder</option>
                    <option value="Yuva">Yuva</option>
                    <option value="Thalir">Thalir</option>
                    <option value="Rural Initiatives">Rural Initiatives</option>
                    <option value="General Public">General Public</option>
                    <option value="Member">Member</option>
                    <option value="">None</option>
                  </select>
                  <div class="invalid-feedback">Please select a project stakeholder.</div>
                </div>
              </div>
          
              <!-- YI Pillar Impact field -->
              <div class="col-12 col-sm-6 col-md-6">
                <div class="form-group">
                  <label for="yi_pillar" class="form-label">YI Pillar Impact</label><span style="color:red;"> *</span>
                  <select class="form-control" id="yi_pillar" name="yi_pillar" required aria-label="YI Pillar Impact">
                    <option value="" disabled selected>Choose YI Pillar Impact</option>
                    <option value="Youth Leader">Youth Leader</option>
                    <option value="Thought Leader">Thought Leader</option>
                    <option value="Nation Building">Nation Building</option>
                  </select>
                  <div class="invalid-feedback">Please select a YI pillar impact.</div>
                </div>
              </div>
          
              <!-- Select Ec Member field -->
              <div class="col-12 col-sm-6 col-md-6">
                <div class="form-group">
                  <label for="select_member" class="form-label">Select Ec Member</label>
                  <div class="selectBox" onclick="toggleCheckboxes()">
                    <select class="form-control" id="select_member_display">
                      <option>Select Ec Member</option>
                    </select>
                    <div class="overSelect"></div>
                  </div>
                  <div id="checkBoxes">
                    {% for i in ec_member  %}
                    <label>
                      <input type="checkbox" name="select_member[]" value="{{i}}" /> {{i}}
                    </label>
                    {% endfor %}
                  </div>
                  <!-- Hidden field to store the concatenated values -->
                  <input type="hidden" id="select_member_hidden" name="select_member" value="">
                </div>
              </div>
          
              <!-- Social Link field -->
              <div class="col-12 col-sm-6 col-md-6">
                <div class="form-group">
                  <label for="social_link" class="form-label">Social Link</label>
                  <input type="url" id="social_link" class="form-control" name="social_link" placeholder="Enter your social media link" aria-label="Social Link">
                </div>
              </div>
          
              <!-- Total Impact field -->
              <div class="col-12 col-sm-6 col-md-6">
                <div class="form-group">
                  <label for="total_impact" class="form-label">Total Impact</label><span style="color:red;"> *</span>
                  <input type="number" id="total_impact" class="form-control" name="total_impact" required placeholder="total impact" aria-label="Total Impact">
                  <div class="invalid-feedback">Please provide total impact.</div>
                </div>
              </div>
          
              <!-- Event Expense field -->
              <div class="col-12 col-sm-6 col-md-6">
                <div class="form-group">
                  <label for="event_expense" class="form-label">Event Expense</label>
                  <input type="number" id="event_expense" class="form-control" name="event_expense" placeholder="Event Expense" aria-label="Event Expense">
                </div>
              </div>
          
              <!-- Event Image field -->
              <div class="col-12 col-sm-6 col-md-6">
                <div class="form-group">
                  <label for="event_img" class="form-label">Event Image</label>
                  <input type="file" id="event_img" class="form-control" name="event_img" accept=".jpg, .jpeg, .png" aria-label="Event Image" multiple>
                </div>
              </div>

              


              <!-- Special Interest Group field -->
              <div class="col-12 col-sm-6 col-md-6" id="sig_div" style="display: none;">
                <div class="form-group">
                  <label for="sig_" class="form-label">Choose SIG</label>
                  <select class="form-control" name="sig_">
                    <option value="" disabled selected>Choose Special Interest Group</option>
                    <option value="Active Living">Active Living</option>
                    <option value="Photography">Photography</option>
                    <option value="Trekking">Trekking</option>
                    <option value="Entrepreneurship">Entrepreneurship</option>
                    <option value="Community">Community</option>
                    <option value="">None</option>
                  </select>
                </div>
              </div>
          
              <!-- Associate Partner field -->
              <div class="col-12 col-sm-6 col-md-6" id="associate_div" style="display: none;">
                <div class="form-group">
                  <label for="associate_partners" class="form-label">Associate Partner</label>
                  <select class="form-control" id="associate_partners" name="associate_partner">
                    <option value="" disabled selected>Choose Associate</option>
                    <option value="Big Bull">Big Bull</option>
                    <option value="EB">EB</option>
                    <option value="Yuvi">Yuvi</option>
                    <option value="">None</option>
                  </select>
                </div>
              </div>
          
              <!-- School field -->
              <div class="col-12 col-sm-6 col-md-6" id="school_div" style="display: none;">
                <div class="form-group">
                  <label for="school" class="form-label">School</label>
                  <input type="text" id="school" class="form-control" name="school" placeholder="School" aria-label="School">
                </div>
              </div>
          
              <!-- College field -->
              <div class="col-12 col-sm-6 col-md-6" id="collage_div" style="display: none;">
                <div class="form-group">
                  <label for="collage" class="form-label">College</label>
                  <input type="text" id="collage" class="form-control" name="collage" placeholder="College" aria-label="Collage">
                </div>
              </div>
          
            </div>
          
            <div class="d-grid gap-2 d-md-flex justify-content-md-top mt-4">
              <button type="submit" class="btn btn-primary px-4">Submit</button>
              <button type="reset" class="btn btn-outline-secondary px-4">Reset</button>
            </div>
          </form>
        </div>
      </div>
    </div>
   
  </main>

  {% endblock %} 

  {% block script %}


  <script>
    let expanded = false;

    function toggleCheckboxes() {
        let checkboxes = document.getElementById("checkBoxes");
        if (!expanded) {
            checkboxes.style.display = "block";
            expanded = true;
        } else {
            checkboxes.style.display = "none";
            expanded = false;
        }
    }
    
    // Close the dropdown when clicking outside
    document.addEventListener('click', function(event) {
        let selectBox = document.querySelector('.selectBox');
        let checkboxes = document.getElementById("checkBoxes");
        
        // If the click is outside both the selectBox and checkBoxes
        if (!selectBox.contains(event.target) && !checkboxes.contains(event.target)) {
            checkboxes.style.display = "none";
            expanded = false;
        }
    }, true);
    

    function updateSelectDisplay() {
      let checkboxes = document.querySelectorAll('input[name="select_member[]"]:checked');
      let selectDisplay = document.getElementById('select_member_display');
      
      if (checkboxes.length === 0) {
          selectDisplay.options[0].text = "Select options";
      } else if (checkboxes.length === 1) {
          selectDisplay.options[0].text = checkboxes[0].value;
      } else {
          selectDisplay.options[0].text = checkboxes.length + " Member Selected";
      }
   }
   document.querySelector('form').addEventListener('submit', function(event) {
    // Get all checked checkboxes
    let checkboxes = document.querySelectorAll('input[name="select_member[]"]:checked');
    let values = [];
    
    // Collect values from checked checkboxes
    checkboxes.forEach(function(checkbox) {
        values.push(checkbox.value);
    });
    
    // Join the values with a comma and store in the hidden field
    document.getElementById('select_member_hidden').value = values.join(', ');
 });
 
 // Also update the checkboxes to show selected values in the dropdown
 let checkboxes = document.querySelectorAll('input[name="select_member[]"]');
 checkboxes.forEach(function(checkbox) {
    checkbox.addEventListener('change', function() {
        updateSelectDisplay();
    });
 });
</script>







  <script src="{% static 'assets/js/event.js' %}"></script>
  <script src="{% static 'js/input.js' %}" ></script>
  {% endblock script %}
 
